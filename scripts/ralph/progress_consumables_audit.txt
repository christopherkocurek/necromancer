# Consumables Audit Progress Tracker
# PRD: necromancer_consumables_audit_prd.json
# Started: 2026-01-09

## RELEVANT FILES

### Data Files
- lib/edit/object.txt - All item definitions including consumables
- lib/edit/ability.txt - Alchemy ability definition (line 463)
- lib/edit/ego_item.txt - Enchantment definitions (if any for consumables)

### Source Files (consumable effects)
- src/use-obj.c - Primary consumable usage logic
- src/cmd6.c - Command handling for item use
- src/object1.c - Object description/identification
- src/object2.c - Object generation/manipulation
- src/spells1.c - Spell effects (used by staves/horns)
- src/spells2.c - More spell effects
- src/xtra1.c - Contains alchemy-related logic
- src/defines.h - Type value (TV_) definitions

### Type Values (tval) for Consumables
- TV_STAFF (55) - Staves (charge-based magic items)
- TV_HORN (66) - Horns (charge-based, replaces scrolls)
- TV_POTION (75) - Potions
- TV_FLASK (77) - Flasks of oil
- TV_FOOD (80) - Food items including herbs
- TV_EASTER (81) - Easter eggs (replacement for herbs?)

## ITEM CATEGORIES FOUND

### Potions (TV_POTION = 75)
18 potions found (sval 0-29 range)
- Beneficial: Miruvor, Esgalduin, Clarity, Healing, Voice, True Sight, Antidote, Quickness, Elemental Resistance
- Stat boosting: Strength, Dexterity, Constitution, Grace
- Harmful: Slowness, Poison, Blindness, Confusion, Awkwardness, Disconnection

### Horns (TV_HORN = 66) - REPLACES SCROLLS
5 horns found
- Terror, Thunder, Force, Blasting, Warning
Note: Sil-Q uses HORNS instead of scrolls - thematically fits Tolkien

### Food/Herbs (TV_FOOD = 80)
14 food items found
- Herbs: Rage, Sustenance, Terror, Healing, Restoration, Emptiness, Visions, Entrancement, Weakness, Sickness, Athelas
- Food: Dark Bread, Dried Meat, Lembas

### Staves (TV_STAFF = 55)
16 staves found
- Imprisonment, Freedom, Light, Sanctity, Understanding, Revelations, Treasures, Foes
- Slumber, Majesty, Self Knowledge, Warding, Dismay, Recharging, Summoning, Shadows

### Flasks (TV_FLASK = 77)
1 item: Flask of Oil

### NO SCROLLS - Horns replace them
### NO WANDS - Not implemented

## ALCHEMY ABILITY
Location: lib/edit/ability.txt line 463
Effect: "Lets you determine the purpose of all herbs and potions you encounter"
Type: Knowledge/identification ability, NOT a crafting system
Skill tree: Part of Lore abilities (I:4:4:5)

## TASK STATUS
[X] PREP-001 - Create progress tracker
[ ] AUDIT-001 - Catalog all potions
[ ] AUDIT-002 - Catalog all scrolls (will document HORNS instead)
[ ] AUDIT-003 - Catalog all food and herbs
[ ] AUDIT-004 - Catalog all staves
[ ] AUDIT-005 - Catalog all wands (will document as NOT IMPLEMENTED)
[ ] AUDIT-006 - Audit Alchemy ability
[ ] AUDIT-007 - Audit device/magic item system
[ ] RESEARCH-001 - Research roguelike consumable systems
[ ] RESEARCH-002 - Research Tolkien consumables
[ ] EVAL-001 - Evaluate potions
[ ] EVAL-002 - Evaluate scrolls/horns
[ ] EVAL-003 - Evaluate food/herbs
[ ] EVAL-004 - Evaluate staves
[ ] ANALYSIS-001 - Alchemy crafting potential
[ ] ANALYSIS-002 - Staff vs wand distinction
[ ] FINAL-001 - Generate master audit report
